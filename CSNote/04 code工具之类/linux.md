
## 基本操作 [	](linux_20201124103028752)
### Linux 快捷键 [	](linux_20201124103028754)

1. 命令和路径补齐: {{c1:: `tab` 二次提示 }}
2. 主键盘快捷键:
    1. 历史命令切换:
        + 历史命令: {{c1:: `history` }}
        + 向上遍历: {{c1:: `ctrl+p (previous)` }}
        + 向下遍历: {{c1:: `ctrl+n (next)` }}
    2. 光标移动:
        + 向前:{{c1:: `ctrl+b (backward)` }}
        + 向后:{{c1:: `ctrl+f (forward)` }}
        + 移动到头部:{{c1:: `ctrl+a` }}
        + 移动到尾部:{{c1:: `ctrl+e` }}
    3. 删除字符:
        + 删除光标后边的字符:{{c1:: `ctrl+d` }}
        + 删除光标前边的字符:{{c1:: `ctrl+h` }}
        + 删除光标前的所有内容:{{c1:: `ctrl+u` }}

### Linux系统目录结构: [	](linux_20201124103028757)

1. `/bin`:{{c1::  bin是Binary的缩写, 这个目录存放着最**经常使用的命令**。 }}
2. `/dev`:{{c1::  dev是Device(设备)的缩写, 该目录下**存放的是Linux的外部设备**，在Linux中访问设备的方式和访问文件的方式是相同的。 }}
3. `/etc`:{{c1:: 这个目录用来存放所有的系统管理所需要的**配置文件和子目录**。 }}
4. `/home`:{{c1:: 用户的主目录，在Linux中，**每个用户都有一个自己的目录**，一般该目录名是以用户的账号命名的。 }}
5. `/lib`:{{c1:: 这个目录里存放着**系统最基本的动态连接共享库**，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。 }}
6. `/media`:{{c1:: linux系统会**自动识别**一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。 }}
7. `/mnt`:{{c1:: 系统提供该目录是为了**让用户临时挂载**别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。 }}
8. `/root`:{{c1:: 该目录为系统管理员，也称作**超级权限者的用户主目录。** }}
9. `/usr`:{{c1:: 这是一个非常重要的目录，用户的很多**应用程序和文件都放在这个目录下**，类似与windows下的program files目录。 }}

### linux的2种帮助指令 [	](linux_20201214030809267)
1. {{c1:: `man ls` }}
2. {{c1:: `ls --help` }}
+ 使用优先级：{{c1:: man>--help>百度>谷歌 }}

### `itcast@ubuntu:~$`含义 [	](linux_20201124103028759)

+ `itcast`: {{c1:: 当前登录用户 }}
+ `@`: {{c1:: at 在 }}
+ `ubuntu`: {{c1:: 主机名+ ` }}
+ `~`: {{c1:: 用户的家目录(宿主目录) }}
+ `$`: {{c1:: 当前用户为普通用户 }}
+ `#`: {{c1:: 超级用户 -- root }}

### linux用户切换命令： [  ](linux_20200701080334292)

+ 直接切换为超级用户:{{c1:: `sodu su` }}
+ 切换为指定用户：{{c1:: `su username` }}
+ 普通用户使用超级用户权限执行命令:{{c1:: `sudo mv aa bb` }}

### linux环境变量 [	](linux_20200627080241435)

+ 显示当前Shell可见的全局变量
  + {{c1:: `export [-p]` }}
+ 定义变量值的同时声明为全局变量。
  + {{c1:: `export <变量名1=值1>  [<变量名2=值2> ...]` }}
+ 声明已经赋值的某个（些）**局部变量为全局变量**。
  + {{c1:: `export <变量名1> [<变量名2> ...]` }}
+ 声明已经赋值的某个（些）**全局变量为局部变量**。
  + {{c1:: `export -n <变量名1> [<变量名2> ...]` }}
+ 显示当前已经定义的所有变量
  + 所有**环境变量**：{{c1:: `env` }}
  + 所有**变量和函数**（包括环境变量） ：{{c1:: `set` }}
+ 显示某（些）个变量的值
  + {{c1:: `echo  $NAME1  [$NAME2 ……]` }}
+ 取消变量的声明或赋值
  + {{c1:: `unset  <NAME>` }}



### 开机、重启和用户注销 [	](linux_20201214030809270)

- 开机:
  - `shutdown -h now`: {{c1:: 表示立即关机}}
  - `shutdown -h 1`: {{c1:: 表示 1 分钟后关机}}
  - `shutdown -r no`: {{c1:: 立即重启}}
  - `halt`: {{c1:: 直接使用，效果等价于关机}}
- 重启：{{c1:: `reboot`: 直接使用，就是重启系统。}}
- 同步磁盘：{{c1:: `sync`: 当我们关机或者重启时，都应该先执行以下 sync 指令，把内存的数据同步到磁盘}} 
+ 用户注销：{{c1:: `logout`}}
  注意：{{c1:: `logout`注销指令在图形运行级别无效，在运行级别3下有效. }}
### Date指令 [	](linux_20201214030809273)
+ 显示时间
  + 显示当前月份:{{c1:: `date +%m` }}
  + 显示当前是哪一天:{{c1:: `date +%d` }}
  + 显示年月日时分秒:{{c1:: `date "+%Y-%m-%d %H:%M:%S"` }}
  + 注意：{c1:: `+`号是必须的 }}
+ 设置日期:{{c1:: `date -s "2018-10-10 11:22:22"` }}

### cal指令  [	](linux_20201214030809276)
+ 显示当前月日历:{{c1:: `cal` }}
+ 显示某一年的日历:{{c1:: `cal 2020` }}

### 重定向符号

+ 文件描述符`0 1 2`概念：{{c1::
  | 名称                 | 代码 | 操作符           | Java中表示 |
  | -------------------- | ---- | ---------------- | ---------- |
  | 标准输入(stdin)      | 0    | < 或 <<          | System.in  |
  | 标准输出(stdout)     | 1    | >, >>, 1> 或 1>> | System.out |
  | 标准错误输出(stderr) | 2    | 2> 或 2>>        | System.err |}}
+ 重定向符号：
  | 命令            | 说明                                               |
  | :-------------- | :------------------------------------------------- |
  | command > file  | {{c1:: 将输出重定向到 file。}}                              |
  | command < file  | {{c1:: 将输入重定向到 file。}}                              |
  | command >> file | {{c1:: 将输出以追加的方式重定向到 file。}}                  |
  | n > file        | {{c1:: 将文件描述符为 n 的文件重定向到 file。}}             |
  | n >> file       | {{c1:: 将文件描述符为 n 的文件以追加的方式重定向到 file。}} |
  | n >& m          | {{c1:: 将输出文件 m 和 n 合并。 将输出文件n的指针设置为m }}                          |
  | n <& m          | {{c1:: 将输入文件 m 和 n 合并。  将输入文件n的指针设置为m }}                          |
+ springBoot jar包运行命令示例：{{c1:: `nohup java -jar jeecg-boot-module-system-2.0.0.jar >catalina.out 2>&1 &` }}
### nohup命令

+ 作用：{{c1::全称 no hang up（不挂起），用于在系统后台不挂断地运行命令，退出终端不会影响程序的运行。}}
+ 默认输出文件：{{c1::**nohup** 命令，在默认情况下（非重定向时），会输出一个名叫 nohup.out 的文件到当前目录下，如果当前目录的 nohup.out 文件不可写，输出重定向到 **$HOME/nohup.out** 文件中。}}
+ 语法格式：{{c1::` nohup Command [ Arg … ] [　& ]`}}
+ 参数说明：
  + {{c1::**Command**：要执行的命令。}}
  + {{c1::**Arg**：一些参数，可以指定输出文件。}}
  + {{c1::**&**：让命令在后台执行，终端退出后命令仍旧执行。}}

## 文件和目录操作 [	](linux_20201124103028767)

### 文件或目录颜色一般情况 [	](linux_20201124103028770)

+ 正面：![image-20201118135834372](https://gitee.com/xieyun714/nodeimage/raw/master/img/image-20201118135834372.png)
+ 答案：{{c1:: ![image-20201118135939888](https://gitee.com/xieyun714/nodeimage/raw/master/img/image-20201118135939888.png) }}

### 常用的目录操作命令 [  ](linux_20200627080241428)

+ `pwd`:{{c1:: 命令查看用户的当前目录 }}
+ `cd`:{{c1::  命令来切换目录 }}
  + `.`:{{c1:: 表示当前目录 }}
  + `..`:{{c1::  表示当前目录的上一级目录（父目录） }}
  + `-`:{{c1:: 表示用 cd 命令切换目录前所在的目录 }}
  + `~`:{{c1::  表示用户主目录的绝对路径名 }}
+ 绝对路径：{{c1:: 以斜线（/）开头 ，描述到文件位置的完整说明 }}
+ 相对路径：{{c1:: 不以斜线（/）开头 ，指定相对于你的当前工作目录而言的位置  }}

### 常用的文件操作命令 [  ](linux_20200627080241429)

+ `file/stat`：{{c1:: 查看文件类型或文件属性信息}}
+ `echo`：{{c1:: 把内容重定向到指定的文件中 ，有则打开，无则创建}}
+ `管道命令 |` ：{{c1:: 将前面的结果给后面的命令，例如：{{c1:: `ls -la | wc`，将ls的结果加油wc命令来统计字数}}
+ `重定向 > 是覆盖模式，>> 是追加模式`，例如：{{c1:: `echo "Java3y,zhen de hen xihuan ni" > qingshu.txt`把左边的输出放到右边的文件里去}}

### `ls -l`命令结果意义： [  ](linux_20200701080334296)

![image-20200701191716330](https://gitee.com/xieyun714/nodeimage/raw/master/img/image-20200701191716330.png)

+ 结果：
    + {{c1::![image-20200701191552229](https://gitee.com/xieyun714/nodeimage/raw/master/img/image-20200701191552229.png)}}
    + {{c1::![image-20200701191808299](https://gitee.com/xieyun714/nodeimage/raw/master/img/image-20200701191808299.png)}}
    + `4096`: {{c1:: 永远代表目录，目录都是4096大小 }}

### Linux下文件的类型： [  ](linux_20200627080241426)

+ 普通文件:{{c1:: `-`}}
+ 目录:{{c1:: `d`}}
+ 符号链接:{{c1:: ` l`}}
    + 硬链接： {{c1:: 与普通文件没什么不同，inode 都指向同一个文件在硬盘中的区块}}
    + 软链接： {{c1:: 保存了其代表的文件的绝对路径，是另外一种文件，在硬盘上有独立的区块，访问时替换自身路径(简单地理解为 Windows 中常见的快捷方式)。}}
    + 显示文件inode值命令：{{c1:: `ls -li` }}
+ 字符设备文件:{{c1:: ` c`}}
+ 块设备文件:{{c1:: `b`}}
+ 套接字:{{c1:: `s`}}
+ 命名管道:{{c1:: `p`}}

## 搜索查找命令 [	](linux_20201214030809279)
### find指令 [	](linux_20201214030809282)
+ `find`：{{c1:: find [搜索范围] [选项] }}
  + 根据名称查找`/home`目录下的 `hello.txt`文件：{{c1:: `find /home -name hello.txt`}}
  + 查找`/opt`目录下，用户名称为`xieyun`的文件:{{c1:: `find /opt -user nobody`}}
  + 查找`/home`下大于/小于20m的文件
    + 大于: {{c1:: `find /home -size +20M` }}
    + 小于: {{c1:: `find /home -size -20M` }}
    + 注意：{{c1:: 必须有`+` `-`，否则会精确匹配 }}
  + 查询/目录下，所有.txt的文件:{{c1:: `find / -name *.txt`}}
### linux中的通配符 [  ](linux_20200627080241424)
+ 作用：{{c1:: 一般在指定文件名时使用 }}
+ `*`：{{c1:: 匹配任何字符和任何数目的字符 }}
+ `?`：{{c1:: 匹配单一数目的任何字符 }}
+ `[ ]`：{{c1:: 匹配[ ]之内的任意一个字符 }}
+ `[! ]`：{{c1:: 匹配除了[! ]之外的任意一个字符，!表示非的意思 }}
+ 例：
  + 查询/目录下，所有.txt的文件:{{c1:: `find / -name *.txt`}}

### locate指令 [	](linux_20201214030809285)
+ 语法:{{c1:: locaate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的locate 数据库实现快速定位给定的文件。 }}
+ 注意：第一次运行前，必须使用`updatedb`指令创建`locate`数据库
+ 案例: 请使用locate指令快速定位hello.txt文件所在目录:{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212195207.png) }}

### grep命令 [	](linux_20200627080241433)

+ 格式：{{c1:: `grep [options] PATTERN [FILE...]` }}
+ 选项：
  + 显示行号: {{c1:: `-n ` }}
  + 递归搜索指定文件夹下: {{c1:: `-r`  }}
+ 在文件myfile中查找包含字符串mystr的行:{{c1:: `grep -n mystr myfile` }}
+ 显示myfile中第一个字符为字母的所有行:{{c1:: `grep '^[a-zA-Z]' myfile` }}
## linux文件和目录基本操作 [	](linux_20201125093504133)

### linux文件和目录查看操作 [	](linux_20201124103028784)

+ `tree`:{{c1:: 必须提前安装该软件，列出目录结构}}
  + 需要安装该软件：{{c1:: `sudo apt-get install tree` （ubuntu下） }}
+ `ls -la`:{{c1:: 查看包含隐藏信息的列表 }}
  + `-R`: {{c1:: (recursive)同时列出所有子目录层 }}
+ 查看当前所在目录: {{c1:: `pwd -> printf working directory` }}

### linux文件和目录创建操作 [	](linux_20201125093504136)

+ 创建目录：{{c1:: `mkdir dirName` }}
+ 创建多层目录：{{c1:: `mkdir -p dir/dir1/dir2 ` }}
+ 创建文件：{{c1:: `touch jack` }}
  + 文件存在情况：{{c1:: 修改文件时间 }}
  + 文件不存在情况：{{c1:: 创建文件 }}

### linux文件和目录删除操作 [	](linux_20201125093504139)

+ 删除空目录：{{c1:: `rmdir`,用的不多 }}
+ 删除文件\非空目录：
  + `rm aa`：{{c1:: 本质上是删除文件，如果是目录删除失败 }}
  + `rm -r aa`：{{c1:: 删除目录下所有文件 }}
  + `rm -ri bb`：{{c1:: 删除目录下所有文件，按个提示 }}

### linux文件和目录拷贝操作 [	](linux_20201125093504141)

+ 拷贝文件：{{c1:: `cp hello.c temp` }}
  + temp不存在:创建
  + temp存在:覆盖
+ 拷贝目录：{{c1:: `cp -r oldDir newDir` }}
  + newDir存在：{{c1:: 将oldDir内容复制到newDir目录下 }}
  + newDir不存在：{{c1:: 创建newDir将oldDir内容复制到newDir }}
+ 文件重命名：{{c1:: `mv wangfei mytest` }}

## 链接 [	](linux_20201125093504145)

### linux软连接（符号链接） [	](linux_20201124103028789)

+ 作用：{{c1:: 相当于windows下快捷方式 }}
+ 注意事项
  + 绝对路径:{{c1:: 创建软链接，源文件要使用绝对路径 }}
  + 软连接大小：{{c1:: 源文件+路径 的总字节数 }}
  + 目录:{{c1:: 目录可以创建软链接 }}
+ 示例：{{c1:: `ln -s /home/a.txt a.test ` }}
+ 注意：{{c1::不带选项的`ln`是硬链接}}
### linux硬链接 [	](linux_20201124103028791)

+ 示例：{{c1:: ` ln hello.c hello.hard ` }}
+ `Inode`
  + 作用： {{c1:: linux下每一个文件都对应一个`Inode`，创建硬链接后，两个文件的`Inode`是相同的 }}
  + 查看文件的Inode：{{c1:: `stat a.txt` }}
  + 计数 :{{c1:: 文件创建硬链接后，硬链接计数+1，删除一个硬链接，硬链接计数-1 }}
+ 注意事项
  + 空间：{{c1:: 以文件副本的形式存在。但不占用实际空间 }}
  + 目录：{{c1:: 不允许给目录创建硬链接 }}
  + 文件系统：{{c1:: 硬链接只有在同一个文件系统中才能创建 }}

## 文件操作 [	](linux_20201125093504148)

### linux查看文件内容 [	](linux_20201124103028787)

+ `cat`：{{c1::查看文本文件内容,如果文件太长，无法再终端全部显示}}
+ `more 文件名`：{{c1:: 文件内容分页显示到终端，但是只能一直向下浏览，不能回退}}
  + 相关操作
    + 回车：{{c1:: 显示下一行 }}
    + 空格：{{c1:: 显示下一页 }}
    + `ctrl+c` 或 `q`：{{c1:: 退出 }}
+ `less`：{{c1:: 文件内容分页显示到终端，可以自由上下浏览}}
  + 相关操作
    + 回车：{{c1:: 显示下一行}}
    + 空格：{{c1:: 显示下一页}}
    + `ctrl+p` 或 `↑`：{{c1:: 滚动到上一行}}
    + `ctrl+n` 或 `↓`：{{c1:: 滚动到下一行}}
    + `q`: {{c1:: 退出浏览}}
+ `tail -10`：{{c1::  查看文件的尾部的10行}}
+ `head -20`：{{c1:: 查看文件的头部20行}}

### linux几个常用工具命令 [	](linux_20201203022249273)

+ 查看单个文件的统计信息
  + 语法：{{c1:: `wc a.txt` }}
  + 结果格式：{{c1:: `行数  字数  字节数  文件名` }}
+ 以指定格式查看二进制文件信息
  + 语法：{{c1:: `od [OPTION]... [FILE]...` }}
  + 全称：{{c1:: `Octal Dump` }}
  + 选项`-t`：{{c1:: 指定数据的显示格式 }}
      1. `c` : {{c1:: ASCII字符 }}
      2. `d` : {{c1:: 有符号十进制数 }}
      3. `f` : {{c1:: 浮点数 }}
      4. `o` : {{c1:: 八进制数 }}
      5. `u` : {{c1:: 无符号十进制数 }}
      6. `x` : {{c1:: 十六进制数 }}
+ 查看各目录占用空间
  + 语法：{{c1:: `du [OPTION]... [FILE]...` }}
  + 全称：{{c1:: `disk usage` }}
  + 作用：{{c1:: 查看某个目录的大小 }}
  + `-h`:{{c1:: 人能看懂 }}
+ 查看磁盘的使用情况
  + 语法：{{c1:: `df [OPTION]... [FILE]...` }}
  + 作用：{{c1:: 查看磁盘的使用情况 }}
  + `-h`:{{c1:: 人能看懂 }}

### linux:which命令 [	](linux_20201124103028796)

+ 作用：{{c1:: 查看指定命令所在的路径,which指令会在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。 }}
+ `cd`这个常用的命令竟然找不到啊！为什么呢？
  + {{c1:: `cd`是`bash`内建的命令！ }}

## 压缩和解压类 [	](linux_20201214030809287)

### `gzip/gunzip`指令 [	](linux_20201214030809289)
+ 注意：{{c1:: 当我们使用gzip对文件进行压缩/解压后，不会保留原来的文件。}}
+ 案例1:gzip压缩，将/home下的hello.txt文件进行压缩:{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212201859.png) }}
+ 案例2:gunzip压缩，将/home下的hello.txt.gz文件进行解压缩:{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212201932.png) }}

### `zip/unzip`指令 [	](linux_20201214030809291)
+ 案例1:将/home下的所有文件进行压缩成mypackage.zip：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212202349.png) }}
+ 案例2:将mypackge.zip解压到/opt/tmp目录下：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212202449.png) }}

### `tar`指令 [	](linux_20201214030809294)
+ 语法：{{c1:: `tar [选项] XXX.tar.gz 打包的内容` }}
+ 选项：
  + `-c`：{{c1:: create a new file }}
  + `-v`：{{c1:: 显示详细信息 }}
  + `-f`: {{c1:: 指定压后的文件名 }}
  + `-z`：{{c1:: filter the archive through gzip }}
  + `-x`：{{c1:: 解包`.tar`文件 }}
+ `.tar.gz`和`.zip`文件的区别：
  1. {{c1:: 几乎所有linux都支持`.gz`压缩算法,所以`.gz`文件常用于linux }}
  2. {{c1:: `.zip`通常在widnows下使用 }}
+ 案例 1:压缩多个文件，将`/home/a1.txt`和`/home/a2.txt`压缩成`a.tar.gz`
  + 压缩命令：{{c1:: `tar -zcvf a.tar.gz a1.txt a2.txt` }}
  + 解压命令：{{c1:: `tar -zxvf a.tar.gz` }}
  + 注意：{{c1:: 解压与压缩选项区别 }}
+ 案例2:将`/home`的文件夹压缩成`myhome.tar.gz`
  + 压缩命令：{{c1:: `tar -zcvf /home myhome.tar.gz` }}
  + 解压到`/opt/`目录下：{{c1:: `tar -zxvf myhome.tar.gz -C /opt/` }}

## 运行级别 [	](linux_20201214030809297)
### Linux系统运行级别 [	](linux_20201214030809300)

+ 示意图：![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212174734.png)
+ 回答：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212174631.png) }}
+ 查看或者修改默认级别： {{c1:: `vi /etc/inittab` }}

### 切换到指定运行级别的指令 [	](linux_20201214030809303)

+ 语法：{{c1:: `init [012356]` }}
  + 例：{{c1:: `init 3` }}
+ 如何找回root密码：{{c1:: 开机时进入到单用户模式，使用 passwd 指令来修改 root 密码。 }}

## 文件权限、用户、用户组 [	](linux_20201124103028798)

### Linux中的账户包括 [	](linux_20200701080334278)

+ 用户账户
  + 普通用户账户：{{c1:: 在系统上的任务是进行普通工作}}
  + 超级用户账户（或管理员账户）：{{c1:: 在系统上的任务是对普通用户和整个系统进行管理。}}
+ 组账户(组是用户的集合)
  + 标准组：{{c1:: 标准组可以容纳多个用户}}
  + 私有组：{{c1:: 私有组中只有用户自己}}

### linux:当一个用户同属于多个组时，将这些组分为 [	](linux_20200701080334281)

+ 主组（初始组）：{{c1:: 用户登录系统时的组。 }}
+ 附加组：{{c1:: 登录后可切换的其他组 }}

### 用户和组的配置文件 [	](linux_20201214030809306)
+ `/etc/passwd`
  + 作用：{{c1:: 用户（user）的配置文件，记录用户的各种信息 }}
  + 图示：![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212173449.png)
  + 每行的含义：{{c1:: 用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell }}
+ `/etc/shadow`
  + 作用：{{c1:: 口令的配置文件 }}
  + 每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
+ `/etc/group`
  + 作用：{{c1:: 记录 Linux 包含的组的信息 }}
  + 图示：![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201212173900.png)
  + 每行的含义：{{c1:: 组名:口令:组标识号:组内用户列表}}

### linux创建用户的时候会发生什么： [	](linux_20200701080334285)

1. {{c1:: 用户名和 UID 被保存在 `/etc/passwd` 这个文件中，用户的口令通常用`shadow passwords`保护 }}
2. {{c1:: 当用户登录时，他们**被分配了一个主目录和一个运行的程序**（通常是 shell） }}
3. {{c1:: 若没有指定他所属于的组，RHEL/CentOS就建立一个和**该用户同名的私有组** }}

### Linux管理用户的命令 [	](linux_20200701080334287)

+ 用户管理：
  + 添加用户：{{c1:: `useradd [选项] 用户名` }}
    + 家目录指定：{{c1:: 会自动创建同名家目录，可通过`useradd -d 指定目录` }}
    + 指定组：{{c1:: `useradd -g 用户组 用户名` }}
  + 修改用户： 
    + 改变所在组:{{c1:: `usermod –g 组名 用户名` }}
    + 改变初始目录:{{c1:: `usermod –d 目录名 用户名` }}
  + 删除用户：{{c1:: `userdel 用户名` }}
+ 组管理：
  + 添加组：{{c1:: `groupadd 组名` }}
  + 修改组：{{c1:: `groupmod 组名` }}
  + 删除组：{{c1:: `groupdel 组名` }}
+ 批量管理用户：
  + 成批添加/更新一组账户：{{c1:: `newusers` }}
  + 成批更新用户的口令：{{c1:: `chpasswd` }}

### Linux组成员管理： [	](linux_20200701080334289)

+ 向标准组中添加用户: {{c1:: `gpasswd -a userName groupName` }}
+ 从标准组中删除用户: {{c1:: `gpasswd -d userName groupName` }}

### Linux口令维护： [	](linux_20200701080334290)

+ 给用户指定或者修改密码:{{c1:: `passwd username` }}
+ 禁用用户账户口令:{{c1:: `passwd -l username` }}
+ 恢复用户账户口令:{{c1:: `passwd -u username` }}
+ 查看用户账户口令状态:{{c1:: `passwd -S username` }}
+ 清除用户账户口令:{{c1:: `passwd -d username` }}
+ 口令时效设置：{{c1:: 修改 /etc/login.defs 的相关配置参数:PASS_MAX_DAYS,PASS_MIN_DAYS,PASS_MIN_LEN,PASS_WARN_AGE }}
+ 设置已存在用户的口令时效：{{c1:: `chage命令` }}

### linux:用户相关的命令： [	](linux_20200701080334294)

+ `id`：{{c1:: 显示用户当前的uid、gid和用户所属的组列表 }}
+ `groups`：{{c1:: 显示指定用户所属的组列表 }}
+ `whoami`：{{c1:: 显示当前用户的名称 }} 
+ `w/who`：{{c1:: 显示登录用户及相关信息 }}
+ `newgrp`：{{c1:: 用于转换用户的当前组到指定的组账号，用户必须属于该组才可以正确执行该命令 }}

### linux:chmod命令 [	](linux_20201124103028802)

+ 作用：{{c1:: 修改文件属性（访问权限） }}
- 文字设定法
  - 语法： {{c1:: `chmod [who] [+|-|=] [mode] 文件名` }}
    - 操作对象【who】
      - `u`: {{c1:: 用户（user） }}
      - `g`: {{c1:: 同组用户（group） }}
      - `o`: {{c1:: 其他用户（other） }}
      - `a`: {{c1:: 所用用户（all）【默认】 }}
    - 权限【mode】
      - `r`: {{c1:: 读 }}
      - `w`: {{c1:: 写 }}
      - `x`: {{c1:: 执行 }}
- 数字设定法
  - 语法： {{c1:: `chmod 777 file.txt` }}
  - 数字表示的含义
    - `0`: {{c1:: 没有权限(-) }}
    - `1`: {{c1:: 执行权限（x） }}
    - `2`: {{c1:: 写权限（w） }}
    - `4`: {{c1:: 读权限（r) }}
  - 操作符【+-=】
    - `+`: {{c1:: 添加权限 }}
    - `-`: {{c1:: 取消权限 }}
    - `=`: {{c1:: 赋予给定权限并取消其他权限 (默认为=) }}

### linux:chown命令 [	](linux_20201124103028805)
+ 作用：{{c1:: 将指定文件的拥有者改为指定的用户或组 -- change owner }}
+ 2种用法:
	1. {{c1:: `chown  用户名  文件或目录名` }}
	2. {{c1:: `chown  用户名:组名  文件或目录名` }}
+ 注意：{{c1:: 该命令需要超级用户权限才能执行 `sudo chown nobody：nogroup text.txt` }}


### linux:chgrp命令 [	](linux_20201124103028807)
+ 作用：{{c1:: 改变文件或目录的所属群组 }}
+ 用法: {{c1:: `chgrp  组名 文件或目录名` }}
+ 注意：{{c1:: 该命令需要超级用户权限才能执行`sudo chgrp nogroup text.txt` }}

## 任务调度 [	](linux_20201214030809309)

### crontab任务调度命令 [	](linux_20201214030809312)
+ 语法：`crontab [选项]`
+ 常用选项：
  + `-e`:{{c1:: 会创建`/var/log/cron/username`作为配置文件}}
  + `-l`:{{c1:: 查询`crontab`任务 }}
  + `-r`:{{c1:: 除当前用户所有的`crontab`任务 }}
+ 全局定时任务配置文件位置：{{c1:: `/etc/crontab` }}
+ 用户定时任务配置文件位置：{{c1:: `/var/log/cron` }}
+ 任务调度作用：{{c1:: 是指系统在某个时间执行的特定的命令或程序。 }}
+ 案例：每隔一分钟调用: `ls -l /etc>>/tmp/to.txt`
  1. {{c1:: `cron -e` }}
  2. {{c1:: `*/ 1 ** **ls -l /etc >> /tmp/to.txt` }}
+ 重启任务调度：{{c1:: `service crond restart` }}
+ 时间配置案例：
  + 正面: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201213013635.png)
  + 回答：![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201213013602.png)


## Linux磁盘分区、挂载 [	](linux_20201214030809315)

### 分区基础 [	](linux_20201214030809317)
+ `mbr` `gtp`:{{c1:: 两种分区方式，后者优于前者 }}
+ `hdx~` `sdx~`:{{c1:: 两种硬盘格式 }}
  + `x`：{{c1:: 盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘） }}
  + `~`：{{c1:: 代表分区 }}
+ 查看所有设备挂载情况命令: 
  + 辅助记忆口令：{{c1:: 老师不来看 }}
  + 格式图：![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201213051459.png)
  + 背面：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201213051317.png) }}

### linux下如何增加一块硬盘 [	](linux_20201214030809319)
1. 虚拟机添加硬盘:
2. 分区:`fdisk /dev/sdb`
3. 格式化:{{c1:: `mkfs -t ext4 /dev/sdb1 ` EXT4是第四代扩展文件系统}}
4. 挂载: {{c1:: mount /dev/sdb1 /newdisk }}
   1. 卸载：`umount /dev/sdb1` 或者 `umount /newdisk`
5. 设置可以自动挂载:{{c1:: 通过修改`/etc/fstab`实现挂载添加完成后 执行`mount –a`即刻生效 }}

### 磁盘情况查询 [	](linux_20201214030809321)
+ 查询系统整体磁盘使用情况:{{c1:: `df -h` }}
+ 查询指定目录的磁盘占用情况:{{c1:: `du -h /目录` }}

### 磁盘情况-工作实用指令 [	](linux_20201214030809323)
1. 统计/home文件夹下**文件**的个数，包括子文件夹里的:
  + {{c1:: `ls -lR /home | grep "^-" | wc -l` }}
2. 统计文件夹下**目录**的个数，包括子文件夹里的:
  + {{c1:: `ls -lR /home | grep "^d" | wc -l` }}

## 网络配置 [	](linux_20201214030809325)
### 配置linux系统的IP地址 [	](linux_20201214030809327)
+ 临时配置
  + 查看网络IP：{{c1:: `ifconfig` }}
  + 配置临时网络：{{c1:: `ifconfig eth0 192.168.1.12` }}
+ 固定配置：
  + 配置文件地址：{{c1:: `/etc/sysconfig/network-scripts/ifcfg-eth0` }}
  + 修改配置文件以下项目：
    + `BOOTPROTO`:{{c1:: `BOOTPROTO=static` }}
    + `IPADDR`:{{c1:: `IPADDR=192.168.184.130` IP地址 }}
    + `GATEWAY`:{{c1:: `GATEWAY=192.168.184.2` 网关 }}
    + `DNS1`:{{c1:: `DNS1=192.168.184.2 ` 域名解析器 }}
  + 重启网络服务:{{c1:: `service network restart` }}

## 进程管理 [	](linux_20201214030809329)

### `ps`命令 [	](linux_20201214030809331)
+ 查看有没有sshd服务：{{c1:: `ps –aux|grep sshd` }}
+ 常用选项
  + `ps -a`：{{c1:: 显示当前终端的所有进程信息 }}
  + `ps -u`：{{c1:: 以用户的格式显示进程信息 }}
  + `ps -x`：{{c1:: 显示后台进程运行的参数 }}
  + `ps -A`: {{c1:: 显示所有进程。 }}
  + `ps -f`: {{c1:: 全格式。 }}
+ 输出说明
  + `USER`： {{c1:: 用户名称}}
  + `PID`： {{c1:: 进程号}}
  + `%CPU`： {{c1:: 进程占用CPU的百分比}}
  + `%MEM`： {{c1:: 进程占用物理内存的百分比}}
  + `VSZ`： {{c1:: 进程占用的**虚拟内存**大小（单位KB）}}
  + `RSS`： {{c1:: 进程占用的**物理内存**大小（单位KB）}}
  + `TTY`： {{c1:: 终端名称,缩写 .}}
  + `STAT`： {{c1:: 进程状态，其中**S-睡眠**，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，**R-正在运行**，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等}}
  + `STARTED`： {{c1:: 进程的启动时间}}
  + `TIME`： {{c1:: CPU时间，即进程使用CPU的**总时间**}}
  + `COMMAND`： {{c1:: 启动进程所用的命令和参数，如果过长会被截断显示}}

### `kill`和`killall`命令 [	](linux_20201214030809334)

+ `kill [选项] 进程号`:{{c1::通过进程号杀死进程}}
  + `-9`:{{c1:: 表示强制进程立即停止 }}
+ `killall 进程名称`:{{c1::通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用}}
+ 案例：
  + 案例1：踢掉某个非法登录用户 
    1. {{c1:: `ps -aux | grep sshd` }}
    2. {{c1:: `kill PID` }}
  + 案例2: 终止远程登录服务sshd, 在适当时候再次重启sshd服务
    1. {{c1:: `ps - aux | grep sshd` }}
       + 注意：{{c1:: 根据COMMAND属性选择正确进程 }}
    2. {{c1:: `kill PID` }}
  + 案例3: 终止多个gedit 编辑器
    2. {{c1:: `killall gedit` }}
  + 案例4：强制杀掉一个终端
    3. {{c1:: `ps -aux | grep bash` }}
    4. {{c1:: `kill -9 PID` }}

### pstree [	](linux_20201214030809337)
+ 语法：`pstree [选项]`
  + `-p` :{{c1:: 显示进程的PID }}
  + `-u` :{{c1:: 显示进程的所属用户 }}

### 服务管理命令 [	](linux_20201214030809339)
+ 作用：{{c1:: 服务(service) 本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求 }}
+ systemctl管理：
  | 作用                             | 指令                                               |
  | -------------------------------- | -------------------------------------------------- |
  | 开启服务                         | {{c1:: `systemctl start 服务名`   }}               |
  | 关闭服务                         | {{c1:: `systemctl stop 服务名`      }}             |
  | 显示状态                         | {{c1:: `systemctl status 服务名`      }}           |
  | 重启服务                         | {{c1:: `systemctl restart 服务名`     }}           |
  | 开机启动服务                     | {{c1:: `systemctl enable 服务名`      }}           |
  | 禁止开机启动                     | {{c1:: `systemctl disable 服务名`     }}           |
  | 查看系统中所有正在运行的服务     | {{c1:: `systemctl list-units`         }}           |
  | 查看系统中所有服务的开机启动状态 | {{c1:: `systemctl list-unit-files`     }}          |
  | 查看系统中服务的依赖关系         | {{c1:: `systemctl list-dependencies 服务名`     }} |
  | 冻结服务                         | `systemctl mask 服务名`                            |
  | 解冻服务                         | `systemctl unmask 服务名`                          |
  | 开机时不启动图形界面             | `systemctl set-default multi-user.target`          |
  | 开机时启动图形界面               | `systemctl set-default graphical.target`           |
+ service管理：{{c1:: `service 服务名 [start | stop | restart | reload | status]` }}
  
  + 查看防火墙状态：{{c1::`service iptables status` }}

### 服务相关命令 [	](linux_20201214030809342)
+ windows DOS下测试某个IP地址端口是否生效命令:{{c1:: `telnet 81.69.43.171 22` }}
+ 查看系统有哪些服务命令：`ls /etc/init.d/`

### chkconfig命令 [	](linux_20201214030809345)
+ 作用：{{c1:: chkconfig命令主要用来更新（启动或停止）和查询系统服务的运行级信息。 }}
+ 语法：
  + {{c1:: `chkconfig [--add][--del][--list][系统服务]` }}
  + {{c1:: `chkconfig [--level <等级代号>][系统服务][on/off/reset]` }}
+ 选项：
  + `--add`:{{c1::　增加所指定的系统服务，让chkconfig指令得以管理它，并同时在系统启动的叙述文件内增加相关数据。　}}
  + `--del`:{{c1::　删除所指定的系统服务，不再由chkconfig指令管理，并同时在系统启动的叙述文件内删除相关数据。　}}
  + `--level<等级代号>`:{{c1::　指定读系统服务要在哪一个执行等级中开启或关毕。　}}
  + `--list`:{{c1:: 查看服务列表 }}

### top命令 [	](linux_20201214030809347)
+ 作用：{{c1:: 与ps命令相似，不过top是动态监控进程信息的。 }}
+ 语法：`top [选项]`
  + `-d 秒数`:{{c1:: 指定top命令每隔几秒更新。默认是3秒在top命令的交互模式当中可以执行的}}
+ 命令：
  + `-i`:{{c1:: 使top不显示任何闲置或者僵死进程。}}
  + `-p`:{{c1:: 通过指定监控进程ID来仅仅监控某个进程的状态。}}
+ 交互操作： 
+ `P`:{{c1:: 以CPU使用率排序，默认就是此项 }}
+ `M`:{{c1:: 以内存的使用率排序 }}
+ `N`:{{c1:: 以PID排序 }}
+ `q`:{{c1:: 退出top }}

### netstat [	](linux_20201214030809350)
+ 作用：{{c1:: 可让查询整个Linux系统的网络情况。 }}
+ 语法：{{c1:: `netstat [选项]` }}
+ 常用选项
  + `-a`: {{c1:: 显示所有网络服务 }}
  + `-n`：{{c1:: 数字显示ip }}
  + `-p`：{{c1:: 显示调用进程的pid }}
+ 查看服务名为`sshd`的服务的信息{{c1:: `netstat -anp | grep sshd` }}



## Vim操作 [	](linux_20201124103028810)

### Vi编辑器，普通模式操作 [	](linux_20200627080241437)

+ `G`:{{c1:: 用于直接跳转到文件尾}}
+ `ZZ`:{{c1:: 用于存盘退出Vi}}
+ `ZQ`:{{c1:: 用于不存盘退出Vi }}
+ `/和？`:{{c1:: 用于查找字符串}}
+ `n`:{{c1:: 继续查找下一个}}
+ `yy`:{{c1:: 复制一行}}
+ `p`:{{c1:: 粘帖在下一行，P粘贴在前一行}}
+ `dd`:{{c1:: 删除一行文本}}
+ `u`:{{c1:: 取消上一次编辑操作（undo）}}

### Vi编辑器，插入模式操作 [	](linux_20200627080241439)

+ 进去插入模式:{{c1:: 使用i或a或o }}
+ 返回普通模式:{{c1:: 使用esc }}

### Vi编辑器，命令行模式操作 [	](linux_20200627080241441)

+ `w `:{{c1:: 保存当前编辑文件，但并不退出}}
+ `w newfile`:{{c1:: 存为另外一个名为 “newfile” 的文件}}
+ `wq`:{{c1:: 用于存盘退出Vi}}
+ `q!`:{{c1:: 用于不存盘退出Vi}}
+ `q `:{{c1:: 用于直接退出Vi （未做修改)}}

### 设置Vi环境 [	](linux_20200627080241443)

+ `set autoindent`:{{c1::  缩进,常用于程序的编写}}
+ `set noautoindent`:{{c1:: 取消缩进}}
+ `set number`:{{c1:: 在编辑文件时显示行号}}
+ `set tabstop=value`:{{c1:: 设置显示制表符的空格字符个数}}
+ `set`:{{c1:: 显示设置的所有选项}}

## 进程管理 [	](linux_20200702035951395)

### 使用PID区分不同的进程 [	](linux_20200702035951397)

- 系统启动后的**第一个进程是{{c1:: `init` }}**，它的{{c1:: `PID是1` }}。{{c1:: init }}是唯一一个由系统内核直接运行的进程。
- 除了init之外，每个进程都有{{c1:: **父进程**（PPID标识） }}
- 每个进程还有四个{{c1::**与用户和组相关的识别号**}}
  1. {{c1:: 实际用户识别号  （real user ID，RUID） }}
  2. {{c1:: 实际组识别号     （real group ID，RGID）}}
  3. {{c1:: 有效用户识别号  （effect user ID，EUID）}}
  4. {{c1:: 有效组识别号     （effect group ID，EGID）}}

1. RUID和RGID的作用：{{c1:: **识别正在运行此进程的用户和组**。}}
2. EUID和EGID的作用：{{c1:: **确定一个进程对其访问的文件的权限**。}}


### linux进程常用命令 [	](linux_20200702035951402)

+ 注销后继续运行进程:{{c1::  `nohup java -server -Xms128M -Xmx512M -XX:MetaspaceSize=128M -jar test.jar $1 $2 $3 &`}}
+ 杀死进程：{{c1:: `kill pid  -9`}}
+ 查看内存使用状况:{{c1:: `free` }}
+ 查看实时刷新的系统进程信息:{{c1:: `top` }}
+ 在启动进程时就指定优先级：{{c1:: `nice -<优先级改变量> 命令 [&]` }}
  + 注意：{{c1:: 优先级改变量默认为10，若为正则降低优先权 }}
+ 进程运行后调整优先级：{{c1:: `renice命令`}}

### 作业控制（进程控制）常用命令 [	](linux_20200702035951404)

+ 暂时停止某个运行程序：{{c1:: `Ctrl+z` }}
+ 列举作业号码和名称：{{c1:: `jobs` }}
+ 在后台恢复运行：{{c1:: `bg [%作业号码]` }}
+ 在前台恢复运行：{{c1:: `fg [%作业号码]` }}
+ 发送信号：{{c1:: `kill -[信号] pid` }}

## 软件安装 [	](linux_20201124103028813)

### rpm包的管理 [	](linux_20201214030809354)
+ 作用：{{c1:: RPM是RedHat Package Manager（RedHat软件包管理工具）的缩写，类似windows的setup.exe，这一文件格式名称虽然打上了RedHat的标志，但理念是通用的。 }}
+ RPM包的一般格式为：
  + `name-version-arch.rpm`
  + `name-version-arch.src.rpm`

### rpm包查询指令 [	](linux_20201214030809356)
  + 查询所安装的所有rpm软件包:{{c1:: `rpm -qa` }}
  + 查询单个软件包是否安装：{{c1:: `rpm -q firefox` }}
  + 查询软件包信息：{{c1:: `rpm -qi firefox` }}
  + 查询软件包中的文件列表：{{c1:: `rpm -ql firefox` }}
  + 查询文件所属的软件包:{{c1:: `rpm-qf文件全路径名` }}

### rpm包卸载命令 [	](linux_20201214030809359)
+ rpm包卸载命令：{{c1:: `rpm -e RPM包的名称` }}
  + 删除firefox软件包：{{c1:: `rpm -e firefox` }}
  + 如果其它软件包依赖于您要卸载的软件包，卸载时则会产生错误信息。
  + 强制删除（不建议）：{{c1:: `rpm -e --nodeps foo` }}
  
### rpm包安装命令 [	](linux_20201214030809362)
+ rpm包安装命令:{{c1:: `rpm -ivh RPM包全路径名称` }}
  + 参数说明
      + `-i`: {{c1:: install 安装 }}
      + `-v`: {{c1:: verbose 提示 }}
      + `-h`: {{c1:: hash 进度条 }}

### yum命令 [	](linux_20201214030809364)
+ 作用：{{c1:: 能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。 }}
+ 查询yum服务器是否有需要安装的软件: {{c1:: `yum list|grep jdk` }}
+ 安装指定的yum包: {{c1:: `yum install jdk` }}


## 远程登录与复制文件 [	](linux_20201224023254195)



## shell脚本 [	](linux_20201214030809366)

### Shell概述 [	](linux_20201214030809368)

+ 是什么:{{c1:: `Shell`是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。 }}
+ `shell`脚本格式要求:
  +  开头:{{c1:: 脚本以`#!/bin/bash`开头 }}
  +  权限:{{c1:: 脚本需要有可执行权限 }}
+ `shell`脚本的执行方式:
  + 直接执行（需要x权限)：{{c1:: `./helloworld.sh` }}
  + sh解释(不推荐）：{{c1:: `sh helloworld.sh` }}

### Shell的变量 [	](linux_20201214030809371)

+ Linux Shell中的变量分为，**系统变量**和**用户自定义变量**。
+ 系统变量：{{c1:: `$HOME`、`$PWD`、`$SHELL`、`$USER`等等 }}
+ 显示当前shell中所有变量：{{c1:: `set` }}
+ 变量语法
  + 定义变量：{{c1:: `变量=值` }}
  + 撤销变量：{{c1:: `unset 变量` }}
  + 声明静态变量：{{c1:: `readonly 变量` }}
    + 注意：{{c1:: 不能`unset` }}
+ 将命令的返回值赋给变量（重点）: {{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214015405.png) }}

### Shell设置环境变量 [	](linux_20201214030809374)

+ 环境变量配置文件：{{c1:: `/etc/profile` }}
1. `export 变量名=变量值`:{{c1::将shell变量输出为环境变量 }}
2. `source 配置文件`:{{c1::让修改后的配置信息立即生效 }}
3. `echo $变量名`:{{c1::查询环境变量的值 }}
+ 注意：{{c1:: 修改了配置文件后需要source使其生效 }}

### shell脚本位置参数变量 [	](linux_20201214030809377)
+ 作用：{{c1:: `./myshell.sh 100 200`,这个就是一个执行shell的命令行，可以在myshell脚本中获取到参数信息 }}
+ `$n`：{{c1:: n为数字，`$0`代表命令本身，`$1-$9`代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如`${10}` }}
+ `$*`：{{c1:: 所有的参数，`$*`把所有的参数看成一个整体 }}
+ `$@`：{{c1:: 命令行中所有的参数，不过`$@`把每个参数区分对待 }}
+ `$#`：{{c1:: 所有参数的个数 }}

### shell脚本预定义变量(也称特殊变量) [	](linux_20201214030809380)
+ 作用：{{c1:: Bash中已经定好的变量，名称不能自定义，作用也是固定的 }}
+ `$$`: {{c1:: 当前进程的进程号（PID） }}
+ `$!`: {{c1:: 后台运行的最后一个进程的进程号（PID） }}
+ `$？`: {{c1:: 最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。}}

### shell脚本3种表达式 [	](linux_20201214030809382)
1. {{c1:: `result=$(((2+3)*4))` }}
2. {{c1:: `result=$[(2+3)*4]`(推荐) }}
3. {{c1:: `result=expr $TEMP \* 4` }}
+ 例：请求出命令行的两个参数[整数]的和
  ```shell
  #!/bin/bash
  #{{c1::
  SUM=$[$1+$2]
  echo "SUM=$SUM"
  #}}
  ```

### shell条件判断 [	](linux_20201214030809384)
+ 语法：{{c1:: `[ condition ]` }}
  + 注意：{{c1:: condition前后空格 }}
+ 判断语句
  1. 两个整数的比较
    + `-lt`:{{c1:: 小于 }}
    + `-le`:{{c1:: 小于等于 }}
    + `-eq`:{{c1:: 等于 }}
    + `-gt`:{{c1:: 大于 }}
    + `-ge`:{{c1:: 大于等于 }}
    + `-ne`:{{c1:: 不等于 }}
  2. 按照文件权限进行判断
    + `-r`:{{c1:: 有读的权限 }}
    + `-w`:{{c1:: 有写的权限 }}
    + `-x`:{{c1:: 有执行的权限 }}
  3. 按照文件类型进行判断
    + `-f`:{{c1:: 文件存在并且是一个常规的文件 }}
    + `-e`:{{c1:: 文件存在 }}
    + `-d`:{{c1:: 文件存在并是一个目录 }}
  4. 字符串比较:`=`
+ 案例1："ok"是否等于"ok"
+ 判断语句：{{c1:: `if [ "ok100" = "ok" ]` }}
+ 案例2：23是否大于等于22
+ 判断语句：{{c1:: `if [ 23 -gt 22] ` }}
+ 案例3：/root/shell/aaa.txt 目录中的文件是否存在
+ 判断语句：{{c1:: `if [ -e /root/shell/aaa.txt ]` }}

### Shell流程控制语句 [	](linux_20201214030809387)
+ if判断案例：请编写一个shel程序，如果输入的参数，大于等于60,则输出"及格了",如果小于60则输出"不及格”：
  + 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214024253.png) }}
+ case语句案例：当命令行参数是1时，输出"周一",是2时，就输出”周二",其它情况输出" other
  + 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214024404.png) }}
+ for循环案例：
  + 案例1：打印命令行输入参数
  + 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214024521.png) }}
  + 案例2：从1加到100的值输出显示
  + 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214024602.png) }}
+ while循环案例：从命令行输入一个数n,统计从1+...+n的值是多少？
  + 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214024723.png) }}

### shell脚本读取控制台输入 [	](linux_20201214030809392)
+ 语法：{{c1:: `read (选项)(参数)` }}
  + `-p`:{{c1:: 提示信息 }}
  + `-t`:{{c1:: 等待时间 }}
+ 案例：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214025037.png) }}

### 系统函数:`basename` `dirname` [	](linux_20201214030809395)
案例1:请返回/home/a/test.txt的"'test.txt"部分
+ 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214025232.png) }}
案例2:请返回/home/a/test.txt的/home/aa
+ 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214025232.png) }}

### shell自定义函数 [	](linux_20201214030809398)
+ 基本语法：
  ```Shell
  #{{c1::
  [ function ] funname[()]
  {
    Action;
    [return int;]
  }
  #}}
  ```
+ 函数调用：{{c1:: `funname [值]` }}
+ 案例1:计算输入两个参数的和（read), getsum
+ 图示：{{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214030248.png) }}

### Shell编程综合案例 [	](linux_20201214030809401)
+ 需求
  1. 每天凌晨 2:10 备份 数据库 atguiguDB 到 /data/backup/db
  2. 备份开始和备份结束能够给出相应的提示信息
  3. 备份后的文件要求以备份时间为文件名，并打包成 .tar.gz 的形式，比如：`2018-03-12_230201.tar.gz`
  4. 在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除。![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214030559.png)
+ 实现：
  + {{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214030646.png) }}
  + {{c1:: ![](https://gitee.com/xieyun714/nodeimage/raw/master/img/20201214030700.png) }}