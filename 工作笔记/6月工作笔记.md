
+ UI周知：

+ 调整后纳品时间：
+ UI代码：    6/17
+ 测试结果： 7/1
+ 仕样书：    7/3

以下是具体安排，当然能提前还是尽量提前，早测试早发现问题早解决。不要等最后变更时间来不及。
+ 6/5~6/17
+ 谢：
    + UI   PG练习     
    + UI   式样理解 
+ 勾：
    
    + UI 代码
+ 6/18~6/24
+ 冯:
    + UI   sorce review
    + 后台代码测试
+ 谢：
    + UI   sorce review
    + 前台代码测试
+ 勾：
    + UI   测试式样书编写（在现有hikoshi和kaishi基础上改一个出来）
====
+ 6/28~7/1
+ 冯:
    + UI  测试   后台
+ 谢：
    + UI  测试   前台
+ 勾：
    + ### UI  设计书做成 （参考现有hikoshiGasSet ，EVENT式样，画面迁移图等新规，画面式样在现有hikoshi上改）

![image-20200611110007577](6%E6%9C%88%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0.assets/image-20200611110007577.png)

## 修改的类如下，参考这些类写测试用例

![image-20200611110028648](6%E6%9C%88%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0.assets/image-20200611110028648.png)



### hikkoshikansai
http://localhost:8080/clubkatene/apply/hikkoshikansai/mail/hikkoshikansaiMailInput.do?method=doHikkoshikansaiIndex	


http://localhost:8080/clubkatene/apply/hikkoshikansai/detail/hikkoshikansaiDetailInputHaishi.html

http://localhost:8080/clubkatene/apply/hikkoshikansai/detail/hikkoshikansaiDetailInputHaishi.html?nla=true&rr=true&k=jvETlJUDPcB9P

### 入口文件
管理入口：D:\All-In-One-IDE4.8_UI\workspace\UxDev\www\index.html
账号：xieyunservice1000
use_service_no	    	1000
status	        	    1
login_id	        	xieyunservice1000
password	        	login123
member_id	        	ELGS2095
member_no	        	786
return_login_id	        xieyunservice1000
return_password	        login123

xieyunservice1000@pc-test.com 


账号：xieyunservice1047
use_service_no	    	1047
status	    	        1
login_id	        	xieyunservice1047
password	        	login123
member_id	        	ELGS2156
member_no	        	788
return_login_id	    	xieyunservice1047
return_password	    	login123

会員ID	会員氏名	ご登録メールアドレス	ご契約名義	ご使用場所住所	利用中のサービス	ガス契約	LINE
ELGR9729  	勾慶華 	keiyakutest@chuden.cep.jp 	１万件ユーザ高圧　その３６３７　他 	１万件ユーザ高圧　その３６３７　住所　他 	カテエネ　その他  	 	無 

### UI周知：
UI代码老勾写完了。你取一下，先简单代码review一下。
代码review有问题就指出来，没问题就看看别人怎么写代码，主要是锻炼锻炼，同时熟悉一下代码，为测试做准备。
然后开始单体测试。你主要测试以前台为主。
计划：
6/16~6/29   代码review
6/22~6/24   测试（无测试式样）      测了什么简单记一下，或 evidence贴一下，等测试式样好了后可以不用重复测试
6/28~7/1     测试（填写测试式样）


uik.uikr88.Hikkoshi_apply_pattern_session.key
UIKR88_APPLY_HIKKOSHI_SESSION_KEY

HikkoshikansaiDetailInputHaishiServiceImpl
129
            // 電気の契約一覧を取得する
            KeiyakuListDto keiyakuListDto = keiyakuInfoSelectorService
                    .findForKeiyakuList(false);


```xml
  <!-- 》お客さま番号 -->
  <mcep:with m:id="kidOption">
    <m:forEach items="${session['uik.uikr88.Apply_hikkoshi_session.key'].kidList}" var="bean">
      <m:echo>
        <m:attribute name="value"    value="${getOptionValue(bean.value)}" />
        <m:write                     value="${bean.label}" />
        <m:attribute name="selected" value="${isSelected(contains(bean.value, form.abolitionKID))}" />
      </m:echo>
    </m:forEach>
  </mcep:with>
```

```java
    private List<KeiyakuInfoDto> findByMemberID(
            final KeiyakuInfoSearchCondition searchCondition,
            final KeiyakuInfoSearchOrder searchOrder) {
        // SQL実行
        List<IssForSmFlgDto> result = this.keiyakuInfoExDao_.selectIss(searchCondition, searchOrder);
        // 契約情報をListにして返します.
        return bindIssResultList(result);
    }
```



### 用到SQL的`KeiyakuInfoDao_selectIssForSmFlg.sql`

```sql
SELECT 
    iss.SYOUKAI_KANRI_NO
   ,iss.RIYO_SERVICE_KBN
   ,iss.MEMBER_ID
   ,iss.SERVICE_KEIYAKU_NO
   ,iss.KID
   ,iss.KOATU_KBN
   ,iss.SAIENE_KBN
   ,iss.RIREKI_NO
   ,iss.JUYO_NAME
   ,iss.JUYO_NAME_KANA
   ,TO_MULTI_BYTE(SYS.UTL_I18N.TRANSLITERATE(iss.JUYO_NAME_KANA,'hwkatakana_fwkatakana')) AS JUYO_NAME_KANA_ZENKAKU
   ,iss.JUYO_BASYO
   ,iss.MOSIKOMI_NO
   ,TO_CHAR(iss.MOSIKOMI_TIME,'YYYYMMDD') MOSIKOMI_TIME
   ,iss.TUTISYO_SOFU_FLG
   ,iss.NINSYO_NO
   ,iss.HONTOROKU_FLG
   ,iss.HAISI_FLG
   ,iss.HAISI_YOTEI_DATE
   ,TO_CHAR(iss.KOSIN_TIME,'YYYY.MM.DD HH24.MI.SS') KOSIN_TIME
   ,iss.HONTOROKU_TIME
   ,iss.TEL_NO
   ,iss.RYOKIN_MAIL_FLG
   ,iss.NITTEI
   ,iss.KENSIN_DATE_SENGETU
   ,iss.KENSIN_DATE_TOUGETU
   ,iss.CHOTEI_DATE
   ,iss.KEIYAKU_SHUBETSU
   ,iss.OPT_KEIYAKU20
   ,iss.KEIYAKU_YORYO
   ,iss.GOUKEI_SEIKYUGAKU
   ,iss.SIYORYO_GOUKEI
   ,iss.MIHAKKOU_KEIKOKU_RIYU
   ,iss.MIHAKKOU_HANEI_DATE
   ,TO_CHAR(iss.RYOKIN_KAKUTEI_DATE,'YYYYMMDD') RYOKIN_KAKUTEI_DATE
   ,iss.KENSINHYO_MIHAKKOU_FLG
   ,iss.RYOKIN_PLAN_KUBUN
   ,iss.KYOKYU_CHITEN_TOKUTEI_NO
   ,iss.D_KYOKYU_CHITEN_TOKUTEI_NO
   ,iss.JUYO_BASYO_ADDRESS_NO
   ,iss.KEIYAKU_TEL_NO
   ,iss.POINT_WARIBIKI_CONTENT_CODE
   ,iss.POINT_WARIBIKI_STATUS_CODE
   ,iss.KASAN_POINT
   ,iss.KEIYAKU_YORYO_UNIT
   ,iss.KEIYAKU_DECIDE_CODE
   ,iss.FINAL_YORYO
   ,iss.SHIHARAI_KUBUN_FC
   ,iss.TEIATSU_WARIBIKI_START_DATE
   ,iss.TEIDEN_ADDRESS_NO
   ,iss.TEIDEN_ADDRESS
   ,iss.SEIKYU_ADDRESS_NO
   ,iss.SEIKYU_ADDRESS
   ,iss.KENSHIN_ADDRESS_NO
   ,iss.KENSHIN_ADDRESS
   ,iss.SM_JIDOU_KENSHIN_FLG
   ,iss.FINANCE_AGENCY_NAME
   ,iss.FINANCE_AGENCY_BRANCH_NAME
   ,iss.CREDIT_COMPANY_NAME
   ,iss.JUKYU_START_DATE
   ,ip.POINT_FUYO_TARGET_FLG
   ,iss.PARTNER_CODE
   ,CASE WHEN
              (SELECT DISTINCT SERVICE_KEIYAKU_NO
               FROM MV_AROUTE_MAIL am
               WHERE am.SERVICE_KEIYAKU_NO = iss.SERVICE_KEIYAKU_NO
                    AND AROUTE_MAIL_FLG <> '0') IS NOT NULL THEN 1
         ELSE 0
    END AS EXIST_SM
   ,CASE WHEN
    (iss.HAISI_FLG = '0'
     OR (iss.CHOTEI_DATE >= /*searchCondition.haisibunShowFromYm*/'201710'
         AND iss.CHOTEI_DATE < '999999'))
    THEN '0' ELSE '1' END AS HAISIBUN_EXPIRED_FLG
FROM iss
LEFT OUTER JOIN IAT_POINT ip
ON (iss.SYOUKAI_KANRI_NO = ip.SYOUKAI_KANRI_NO)
LEFT OUTER JOIN ISS_SEC_AUTH  auth
ON (iss.SYOUKAI_KANRI_NO = auth.SYOUKAI_KANRI_NO)
WHERE
    iss.MEMBER_ID = /*searchCondition.memberID*/'ELGR9729'
AND iss.RIYO_SERVICE_KBN = /*searchCondition.riyoServiceKbn*/'1'
```